@{
    ViewData["Title"] = "GRate - Личный Кабинет";
}
@model GRate.ViewModel.RewriteModel
<br />
<br />
<br />
<body>
    <div class="mycontainer">
        <h1 style="color:#fff">Личный кабинет</h1>
        <div class="mynavLK">
            <a asp-action="LK" asp-controller="Home">Профиль</a>
            <a asp-action="MyGames" asp-controller="Home">Мои игры</a>
            <a asp-action="Friends" asp-controller="Home">Друзья</a>
            @if (ViewBag.role == "admin")
            {
                <a asp-action="Register" asp-controller="Game">Добавить игру</a>
                <a asp-action="RegisterGenre" asp-controller="Game">Добавить жанр</a>
            }
        </div>
        <br />
        <div class="glassmorph" style="padding:20px">
            <div id="Profile">
                <h3 style="color:#fff">Профиль</h3>
                <form asp-action="Rewrite" asp-controller="Account" asp-anti-forgery="true">
                    <div style="display:inline-block">
                        <div>
                            <h6>Имя пользователя</h6>
                            <input style="user-select:none; cursor:default" class="Logtext" asp-for="Login" placeholder="Логин" value=@User.Identity.Name readonly />
                        </div>
                        <div style="margin-bottom:8px;">
                            <h6>Старый пароль</h6>
                            <div class="password" style="position: relative;">
                                <input class="Logtext" asp-for="OldPassword" placeholder="Старый пароль" id="password-input" />
                                <a class="password-control" onclick="return show_hide_password(this);"></a>
                            </div>
                            <h6>Новый пароль</h6>
                            <div class="password" style="position: relative;">
                                <input class="Logtext" asp-for="NewPassword" placeholder="Новый пароль" id="password-input2" />
                                <a class="password-control" onclick="return show_hide_password2(this);"></a>
                            </div>
                        </div>
                    </div>
                    <div class="AccountImg" onclick="">
                        <img src="~/res/logo.png" />
                    </div><br />
                    @if (ViewBag.message != null)
                    {
                        <p style="font-weight: bold; color:#43f03c">ВСЕ COCK</p>
                    }
                    @if (ViewBag.errmessage != null)
                    {
                        <p style="font-weight: bold; color:#f61a1a">Введены неверные данные :с</p>
                    }
                    <button type="submit" class="logbuttons">Сохранить изменения</button>
                </form>
            </div>                   
        </div>
    </div>
</body>


<script>

    function show_hide_password(target) {
        var input = document.getElementById('password-input');
        if (input.getAttribute('type') == 'password') {
            target.classList.add('view');
            input.setAttribute('type', 'text');
        } else {
            target.classList.remove('view');
            input.setAttribute('type', 'password');
        }
        return false;
    }
    function show_hide_password2(target) {
        var input = document.getElementById('password-input2');
        if (input.getAttribute('type') == 'password') {
            target.classList.add('view');
            input.setAttribute('type', 'text');
        } else {
            target.classList.remove('view');
            input.setAttribute('type', 'password');
        }
        return false;
    }
</script>